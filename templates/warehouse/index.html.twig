{% extends 'base.html.twig' %}

{% block title %}{{ 'warehouse.list.title'|trans }}{% endblock %}

{% block page_title %}
    <div class="page-title">
        <div class="row">
            <div class="col-12 col-md-6 order-md-1 order-last">
                <h3>{{ 'warehouse.list.title'|trans }}</h3>
            </div>
            <div class="col-12 col-md-6 order-md-2 order-first">
                <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a
                                    href="{{ path('app_dashboard') }}">{{ 'breadcrumb.home'|trans }}</a></li>
                        <li class="breadcrumb-item active" aria-current="page">{{ 'breadcrumb.warehouses'|trans }}</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
{% endblock %}

{% block body %}
    <section class="section">
        <div class="">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h4 class="mb-0">{{ 'warehouse.title.subtitle'|trans }}</h4>
                {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('app_warehouse_new', {'_locale': app.request.locale}) }}" class="btn btn-dark">
                    <i class="bi bi-plus-circle"></i> {{ 'warehouse.actions.new'|trans }}
                </a>
                {% endif %}
            </div>
            <div class="card-body">
                <section id="content-types">
                    <div class="row">
                        {% for warehouse in warehouses %}

                            <div class="col-xl-4 col-md-6 col-sm-12">
                                <a href="{{ path('app_warehouse_edit', {'id': warehouse.id, '_locale': app.request.locale}) }}">
                                    <div class="card">
                                        <div class="card-content">
                                            <div class="card-body">
                                                <h4 class="card-title">{{ warehouse.name }}</h4>
                                                <h6 class="card-subtitle">{{ warehouse.address }}</h6>
                                            </div>
                                            <div id="carouselExampleSlidesOnly" class="carousel slide"
                                                 data-bs-ride="carousel">
                                                <div class="carousel-inner">
                                                    {% for image in warehouse.images %}
                                                        <div class="carousel-item active" id="image-{{ image.id }}">
                                                            <img src="{{ asset('uploads/warehouses/' ~ image.imageName) }}"
                                                                 class="d-block w-100"
                                                                 alt="{{ warehouse.name }}">
                                                        </div>
                                                    {% endfor %}

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        {% endfor %}

                    </div>
                </section>
            </div>
        </div>
    </section>
{% endblock %}
