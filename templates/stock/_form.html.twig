{{ form_start(form, {'attr': {'class': 'form form-horizontal'}}) }}
<div class="form-body">
    <div class="row">
        {# Entrepôt #}
        <div class="col-md-4">
            <label for="{{ form.warehouse.vars.id }}">{{ form_label(form.warehouse) }}</label>
        </div>
        <div class="col-md-8">
            <div class="form-group">
                <div class="position-relative">
                    {{ form_widget(form.warehouse, {
                        'attr': {
                            'class': 'form-select select2-warehouse',
                            'data-placeholder': 'stock.form.warehouse.placeholder'|trans
                        }
                    }) }}
                </div>
                {{ form_errors(form.warehouse) }}
            </div>
        </div>

        {# Produit #}
        <div class="col-md-4">
            <label for="{{ form.product.vars.id }}">{{ form_label(form.product) }}</label>
        </div>
        <div class="col-md-8">
            <div class="form-group">
                <div class="position-relative">
                    {{ form_widget(form.product, {
                        'attr': {
                            'class': 'form-select select2-product',
                            'data-placeholder': 'stock.form.product.placeholder'|trans
                        }
                    }) }}
                </div>
                {{ form_errors(form.product) }}
            </div>
        </div>

        {# Quantité #}
        <div class="col-md-4">
            <label for="{{ form.quantity.vars.id }}">{{ form_label(form.quantity) }}</label>
        </div>
        <div class="col-md-8">
            <div class="form-group has-icon-left">
                <div class="position-relative">
                    {{ form_widget(form.quantity, {'attr': {'class': 'form-control', 'placeholder': 'stock.form.quantity.placeholder'|trans}}) }}
                    <div class="form-control-icon">
                        <i class="bi bi-boxes"></i>
                    </div>
                </div>
                <small class="text-muted">
                    <i class="bi bi-info-circle"></i> Quantité disponible dans l'entrepôt
                </small>
                {{ form_errors(form.quantity) }}
            </div>
        </div>

        {# Note #}
        <div class="col-md-4">
            <label for="{{ form.note.vars.id }}">{{ form_label(form.note) }}</label>
        </div>
        <div class="col-md-8">
            <div class="form-group has-icon-left">
                <div class="position-relative">
                    {{ form_widget(form.note, {'attr': {'class': 'form-control', 'rows': '4', 'placeholder': 'stock.form.note.placeholder'|trans}}) }}
                    <div class="form-control-icon">
                        <i class="bi bi-chat-left-text"></i>
                    </div>
                </div>
                <small class="text-muted">
                    <i class="bi bi-info-circle"></i> Informations complémentaires (date de réception, numéro de lot, etc.)
                </small>
                {{ form_errors(form.note) }}
            </div>
        </div>

        {# Boutons #}
        <div class="col-12 d-flex justify-content-end">
            <a href="{{ path('app_stock_index') }}" class="btn btn-light-secondary me-1 mb-1">
                <i class="bi bi-x-circle"></i> {{ 'form.button.cancel'|trans }}
            </a>
            <button type="submit" class="btn btn-dark me-1 mb-1">
                <i class="bi bi-check-circle"></i>
                {{ button_label|default('create')|lower == 'update' ? 'form.button.update'|trans : 'form.button.create'|trans }}
            </button>
        </div>
    </div>
</div>
{{ form_end(form) }}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Initialiser Select2 sur tous les selects
        initSelect2('.select2-warehouse');
        initSelect2('.select2-product');
    });
</script>
